# 网络基础

####   协议的概念

   从源到目的地，参与方必须遵循相同的规则。

​      原始协议 -》 标准协议

  **C/S模型：**

优点：

1. 协议选用灵活
2. 缓存数据

缺点：

1. 对用户的安全构成威胁
2. 开发工作量大，调试困难

场景：

1. 数据量大
2. 稳定性高

**B/S模型：**

优点：

1. 安全性高一点
2. 开发工作量较小
3. 跨平台

缺点：

1. 支持http协议
2. 不能进行数据缓存

场景：

1. 数据量较小

2. 数据访问工作量小



### 分层模型

**OSI七层模型**

https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/crop%3D0%2C11%2C568%2C375%3Bc0%3Dbaike80%2C5%2C5%2C80%2C26/sign=728f7fc26f380cd7f251f8ad9c748105/b90e7bec54e736d1eddf0c7a91504fc2d46269f0.jpg

网络层 -》IP协议

传输层 -》TCP/UDP协议

应用层 -》FTP协议

**第一层（从下往上）**

第一层 ，物理层：主要定义物理设备标准，传输比特流

第二层，数据链路层：如何让格式化数据以帧为单位进行传输；提供错误检查和纠正

第三层，网络层：两个主机之间提供链接和路径选择

第四层，传输层：定义了一些传输数据的协议和端口号

第五层，会话层：

第六层，表示层：

第七层，应用层： 方便用户对数据进行访问，为用户的应用程序提供网络服务。

剩余三层分工并不多明确，对传输层数据进行间接的封装和解封装，对数据进行确认，打包处理。



#### 通信过程

**数据要进行传输，必须要进行封装**

应用层（FTP协议） -》传输层（TCP协议） -》网络层（IP协议） -》链路层（以太网驱动程序）



**两个封装好的数据包如何完成网络通信？**

TCP协议，通过路由器寻路，找到之后就按照这个路走

UDP协议，每一次都是寻路



**以太网帧格式**

目的地址（6字节） 源地址（6字节） 类型（2字节）数据（46~1500字节） CRC（4字节）（校验码）

1. 源地址和目的地址是指网卡的硬件地址（MAC地址），长度是48位，是在网卡出厂的时候固定的。在shell中使用ifconfig查看，"HWADDR 00:15:F2:14:9E:3F"（保证唯一） 部分就是硬件地址。协议字段有三种值，分别对应IP , ARP , RARP。
2. 类型，当类型为0800的时候，传输的是IP数据段；当类型为0806，后面为 ARP请求/应答（请求对方的Mac地址）（28字节） PAD（18字节）（PAD是用来填充的）
   1. ARP数据报（获取下一跳的mac地址）

28字节构成





 



